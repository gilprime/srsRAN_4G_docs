<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="channel__estimation_8h" kind="file" language="C++">
    <compoundname>channel_estimation.h</compoundname>
    <includes refid="bounded__bitset_8h" local="yes">srsgnb/adt/bounded_bitset.h</includes>
    <includes refid="span_8h" local="yes">srsgnb/adt/span.h</includes>
    <includes refid="static__vector_8h" local="yes">srsgnb/adt/static_vector.h</includes>
    <includes refid="constants_8h" local="yes">srsgnb/phy/constants.h</includes>
    <includes refid="cyclic__prefix_8h" local="yes">srsgnb/ran/cyclic_prefix.h</includes>
    <includes refid="pusch__constants_8h" local="yes">srsgnb/ran/pusch/pusch_constants.h</includes>
    <includes refid="srsgnb__assert_8h" local="yes">srsgnb/support/srsgnb_assert.h</includes>
    <includedby refid="pusch__demodulator_8h" local="yes">include/srsgnb/phy/upper/channel_processors/pusch_demodulator.h</includedby>
    <includedby refid="channel__equalizer_8h" local="yes">include/srsgnb/phy/upper/equalization/channel_equalizer.h</includedby>
    <includedby refid="port__channel__estimator_8h" local="yes">include/srsgnb/phy/upper/port_channel_estimator.h</includedby>
    <includedby refid="dmrs__pucch__processor_8h" local="yes">include/srsgnb/phy/upper/signal_processors/dmrs_pucch_processor.h</includedby>
    <includedby refid="dmrs__pusch__estimator_8h" local="yes">include/srsgnb/phy/upper/signal_processors/dmrs_pusch_estimator.h</includedby>
    <incdepgraph>
      <node id="44">
        <label>atomic</label>
      </node>
      <node id="2">
        <label>srsgnb/adt/bounded_bitset.h</label>
        <link refid="bounded__bitset_8h_source"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
      </node>
      <node id="53">
        <label>srsgnb/ran/subcarrier_spacing.h</label>
        <link refid="subcarrier__spacing_8h_source"/>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="15">
        <label>functional</label>
      </node>
      <node id="8">
        <label>limits</label>
      </node>
      <node id="16">
        <label>iterator</label>
      </node>
      <node id="7">
        <label>cstdint</label>
      </node>
      <node id="37">
        <label>srsgnb/srslog/detail/support/memory_buffer.h</label>
        <link refid="memory__buffer_8h_source"/>
        <childnode refid="17" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>include/srsgnb/phy/upper/channel_estimation.h</label>
        <link refid="channel__estimation_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>cmath</label>
      </node>
      <node id="43">
        <label>cassert</label>
      </node>
      <node id="48">
        <label>detail/type_storage.h</label>
        <link refid="type__storage_8h_source"/>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>stdexcept</label>
      </node>
      <node id="39">
        <label>srsgnb/srslog/context.h</label>
        <link refid="context_8h_source"/>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
      </node>
      <node id="17">
        <label>string</label>
      </node>
      <node id="23">
        <label>srsgnb_assert.h</label>
        <link refid="srsgnb__assert_8h_source"/>
        <childnode refid="24" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="36">
        <label>srsgnb/srslog/detail/support/error_string.h</label>
        <link refid="error__string_8h_source"/>
        <childnode refid="17" relation="include">
        </childnode>
      </node>
      <node id="3">
        <label>srsgnb/srslog/bundled/fmt/format.h</label>
        <link refid="format_8h_source"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
      </node>
      <node id="50">
        <label>srsgnb/phy/constants.h</label>
        <link refid="constants_8h_source"/>
      </node>
      <node id="30">
        <label>srsgnb/srslog/detail/log_entry.h</label>
        <link refid="log__entry_8h_source"/>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
      </node>
      <node id="29">
        <label>srsgnb/srslog/shared_types.h</label>
        <link refid="shared__types_8h_source"/>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
      </node>
      <node id="35">
        <label>srsgnb/srslog/sink.h</label>
        <link refid="sink_8h_source"/>
        <childnode refid="36" relation="include">
        </childnode>
        <childnode refid="37" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
      </node>
      <node id="20">
        <label>srsgnb/support/math_utils.h</label>
        <link refid="math__utils_8h"/>
        <childnode refid="21" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="34">
        <label>pthread.h</label>
      </node>
      <node id="21">
        <label>srsgnb/adt/complex.h</label>
        <link refid="complex_8h_source"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="22" relation="include">
        </childnode>
      </node>
      <node id="13">
        <label>cstdio</label>
      </node>
      <node id="42">
        <label>tuple</label>
      </node>
      <node id="27">
        <label>srsgnb/srslog/log_channel.h</label>
        <link refid="log__channel_8h_source"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
        <childnode refid="44" relation="include">
        </childnode>
      </node>
      <node id="19">
        <label>vector</label>
      </node>
      <node id="51">
        <label>srsgnb/ran/cyclic_prefix.h</label>
        <link refid="cyclic__prefix_8h"/>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="49">
        <label>utility</label>
      </node>
      <node id="33">
        <label>srsgnb/srslog/detail/support/thread_utils.h</label>
        <link refid="thread__utils_8h_source"/>
        <childnode refid="34" relation="include">
        </childnode>
      </node>
      <node id="12">
        <label>array</label>
      </node>
      <node id="40">
        <label>srsgnb/srslog/detail/support/tmpl_utils.h</label>
        <link refid="tmpl__utils_8h_source"/>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
      </node>
      <node id="47">
        <label>srsgnb/adt/static_vector.h</label>
        <link refid="static__vector_8h_source"/>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="23" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="54">
        <label>srsgnb/ran/frequency_range.h</label>
        <link refid="frequency__range_8h_source"/>
      </node>
      <node id="5">
        <label>cerrno</label>
      </node>
      <node id="46">
        <label>srsgnb/adt/span.h</label>
        <link refid="span_8h_source"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="41">
        <label>cstddef</label>
      </node>
      <node id="32">
        <label>chrono</label>
      </node>
      <node id="28">
        <label>srsgnb/srslog/detail/log_backend.h</label>
        <link refid="log__backend_8h_source"/>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
      </node>
      <node id="31">
        <label>srsgnb/srslog/detail/log_entry_metadata.h</label>
        <link refid="log__entry__metadata_8h_source"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
      </node>
      <node id="26">
        <label>srsgnb/srslog/logger.h</label>
        <link refid="logger_8h_source"/>
        <childnode refid="27" relation="include">
        </childnode>
      </node>
      <node id="24">
        <label>srsgnb/srslog/srslog.h</label>
        <link refid="srslog_8h_source"/>
        <childnode refid="25" relation="include">
        </childnode>
        <childnode refid="26" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
      </node>
      <node id="55">
        <label>srsgnb/ran/pusch/pusch_constants.h</label>
        <link refid="pusch__constants_8h_source"/>
      </node>
      <node id="18">
        <label>type_traits</label>
      </node>
      <node id="52">
        <label>srsgnb/ran/phy_time_unit.h</label>
        <link refid="phy__time__unit_8h_source"/>
        <childnode refid="53" relation="include">
        </childnode>
        <childnode refid="20" relation="include">
        </childnode>
      </node>
      <node id="22">
        <label>complex</label>
      </node>
      <node id="4">
        <label>algorithm</label>
      </node>
      <node id="25">
        <label>srsgnb/srslog/detail/support/any.h</label>
        <link refid="any_8h_source"/>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
      </node>
      <node id="14">
        <label>cstring</label>
      </node>
      <node id="38">
        <label>srsgnb/srslog/formatter.h</label>
        <link refid="formatter_8h_source"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>core.h</label>
        <link refid="core_8h_source"/>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="15" relation="include">
        </childnode>
        <childnode refid="16" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="17" relation="include">
        </childnode>
        <childnode refid="18" relation="include">
        </childnode>
        <childnode refid="19" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>memory</label>
      </node>
      <node id="45">
        <label>inttypes.h</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="9">
        <label>lib/phy/upper/signal_processors/dmrs_pusch_estimator_impl.h</label>
        <link refid="dmrs__pusch__estimator__impl_8h"/>
      </node>
      <node id="3">
        <label>include/srsgnb/phy/upper/channel_processors/channel_processor_factories.h</label>
        <link refid="channel__processor__factories_8h_source"/>
      </node>
      <node id="14">
        <label>include/srsgnb/phy/upper/signal_processors/signal_processor_factories.h</label>
        <link refid="signal__processor__factories_8h_source"/>
        <childnode refid="3" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>include/srsgnb/phy/upper/channel_estimation.h</label>
        <link refid="channel__estimation_8h"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="7">
        <label>include/srsgnb/phy/upper/equalization/channel_equalizer.h</label>
        <link refid="channel__equalizer_8h"/>
        <childnode refid="5" relation="include">
        </childnode>
      </node>
      <node id="8">
        <label>include/srsgnb/phy/upper/port_channel_estimator.h</label>
        <link refid="port__channel__estimator_8h"/>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>lib/phy/upper/channel_processors/pusch_processor_impl.h</label>
        <link refid="pusch__processor__impl_8h_source"/>
      </node>
      <node id="13">
        <label>include/srsgnb/phy/upper/signal_processors/dmrs_pusch_estimator.h</label>
        <link refid="dmrs__pusch__estimator_8h"/>
        <childnode refid="14" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>lib/phy/upper/channel_processors/pusch_demodulator_impl.h</label>
        <link refid="pusch__demodulator__impl_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>lib/phy/upper/channel_processors/pusch_demodulator_impl.cpp</label>
        <link refid="pusch__demodulator__impl_8cpp"/>
      </node>
      <node id="2">
        <label>include/srsgnb/phy/upper/channel_processors/pusch_demodulator.h</label>
        <link refid="pusch__demodulator_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>include/srsgnb/phy/upper/signal_processors/dmrs_pucch_processor.h</label>
        <link refid="dmrs__pucch__processor_8h_source"/>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>lib/phy/upper/signal_processors/pucch/dmrs_pucch_processor_format1_impl.h</label>
        <link refid="dmrs__pucch__processor__format1__impl_8h_source"/>
      </node>
      <node id="12">
        <label>lib/phy/upper/signal_processors/pucch/dmrs_pucch_processor_format2_impl.h</label>
        <link refid="dmrs__pucch__processor__format2__impl_8h_source"/>
      </node>
    </invincdepgraph>
    <innerclass refid="classsrsgnb_1_1channel__estimate" prot="public">srsgnb::channel_estimate</innerclass>
    <innerclass refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions" prot="public">srsgnb::channel_estimate::channel_estimate_dimensions</innerclass>
    <innerclass refid="structsrsgnb_1_1dmrs__mask" prot="public">srsgnb::dmrs_mask</innerclass>
    <innernamespace refid="namespacesrsgnb">srsgnb</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para>Channel estimation-related declarations. </para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>2013-2022<sp/>Software<sp/>Radio<sp/>Systems<sp/>Limited</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>By<sp/>using<sp/>this<sp/>file,<sp/>you<sp/>agree<sp/>to<sp/>the<sp/>terms<sp/>and<sp/>conditions<sp/>set</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*<sp/>forth<sp/>in<sp/>the<sp/>LICENSE<sp/>file<sp/>which<sp/>can<sp/>be<sp/>found<sp/>at<sp/>the<sp/>top<sp/>level<sp/>of</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>the<sp/>distribution.</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>once</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;srsgnb/adt/bounded_bitset.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;srsgnb/adt/span.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;srsgnb/adt/static_vector.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;srsgnb/phy/constants.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="cyclic__prefix_8h" kindref="compound">srsgnb/ran/cyclic_prefix.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;srsgnb/ran/pusch/pusch_constants.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;srsgnb/support/srsgnb_assert.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespacesrsgnb" kindref="compound">srsgnb</ref><sp/>{</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="classsrsgnb_1_1channel__estimate" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsrsgnb_1_1channel__estimate" kindref="compound">channel_estimate</ref></highlight></codeline>
<codeline lineno="29"><highlight class="normal">{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="32" refid="classsrsgnb_1_1channel__estimate_1aa41afa984faa8c0319e6b23b1b0046de" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>constexpr<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1aa41afa984faa8c0319e6b23b1b0046de" kindref="member">MAX_RX_PORTS</ref><sp/>=<sp/>16;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="35" refid="classsrsgnb_1_1channel__estimate_1a0d9dcae83581f3161e2cc11e4687cfbe" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>constexpr<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a0d9dcae83581f3161e2cc11e4687cfbe" kindref="member">MAX_TX_LAYERS</ref><sp/>=<sp/>pusch_constants::MAX_NOF_LAYERS;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="38" refid="classsrsgnb_1_1channel__estimate_1a2c2acd62c2d4495ce58ac4c754cdbed6" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>constexpr<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a2c2acd62c2d4495ce58ac4c754cdbed6" kindref="member">MAX_TX_RX_PATHS</ref><sp/>=<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a0d9dcae83581f3161e2cc11e4687cfbe" kindref="member">MAX_TX_LAYERS</ref><sp/>*<sp/><ref refid="classsrsgnb_1_1channel__estimate_1aa41afa984faa8c0319e6b23b1b0046de" kindref="member">MAX_RX_PORTS</ref>;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="41" refid="classsrsgnb_1_1channel__estimate_1a62397b1a8e118e495fd249c968f97d54" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>constexpr<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a62397b1a8e118e495fd249c968f97d54" kindref="member">MAX_BUFFER_SIZE</ref><sp/>=<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a2c2acd62c2d4495ce58ac4c754cdbed6" kindref="member">MAX_TX_RX_PATHS</ref><sp/>*<sp/><ref refid="namespacesrsgnb_1a093e25254bb1f64f3af8faafd11a9120" kindref="member">MAX_RB</ref><sp/>*<sp/><ref refid="namespacesrsgnb_1a1691e371d39f897676e1185dce645bb1" kindref="member">NRE</ref><sp/>*<sp/><ref refid="namespacesrsgnb_1a368f9716311e0bea205a7b8a9b255c20" kindref="member">MAX_NSYMB_PER_SLOT</ref>;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="45" refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions" refkind="compound"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions" kindref="compound">channel_estimate_dimensions</ref><sp/>{</highlight></codeline>
<codeline lineno="47" refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1af840ec6a7dcfb6d5cbbaf407be513c02" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1af840ec6a7dcfb6d5cbbaf407be513c02" kindref="member">nof_prb</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="49" refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1ab3079cecb1405c2af69bdb4edf30080e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1ab3079cecb1405c2af69bdb4edf30080e" kindref="member">nof_symbols</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="51" refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1ae05edf83f588c68880ec8ab1cedd98b8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1ae05edf83f588c68880ec8ab1cedd98b8" kindref="member">nof_rx_ports</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="53" refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1aa2da58a4223bd9198aa543da309c443b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1aa2da58a4223bd9198aa543da309c443b" kindref="member">nof_tx_layers</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/>};</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="57" refid="classsrsgnb_1_1channel__estimate_1a1bbd236c017e7ac47011d43e75b43e3a" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">explicit</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a1bbd236c017e7ac47011d43e75b43e3a" kindref="member">channel_estimate</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions" kindref="compound">channel_estimate_dimensions</ref>&amp;<sp/>dims)<sp/>:</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a6dfc8441926686349f0cc479c5c88392" kindref="member">nof_subcarriers</ref>(dims.nof_prb<sp/>*<sp/><ref refid="namespacesrsgnb_1a1691e371d39f897676e1185dce645bb1" kindref="member">NRE</ref>),<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a61b6d72443162c60b9bb70215283944e" kindref="member">nof_symbols</ref>(dims.<ref refid="classsrsgnb_1_1channel__estimate_1a61b6d72443162c60b9bb70215283944e" kindref="member">nof_symbols</ref>),<sp/><ref refid="classsrsgnb_1_1channel__estimate_1adbcbada453f6f6ad2fdb624e53ab46de" kindref="member">nof_rx_ports</ref>(dims.<ref refid="classsrsgnb_1_1channel__estimate_1adbcbada453f6f6ad2fdb624e53ab46de" kindref="member">nof_rx_ports</ref>)</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>srsgnb_assert(dims.<ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1af840ec6a7dcfb6d5cbbaf407be513c02" kindref="member">nof_prb</ref><sp/>&lt;=<sp/><ref refid="namespacesrsgnb_1a093e25254bb1f64f3af8faafd11a9120" kindref="member">MAX_RB</ref>,<sp/></highlight><highlight class="stringliteral">&quot;Requested<sp/>{}<sp/>RBs,<sp/>but<sp/>at<sp/>most<sp/>{}<sp/>are<sp/>allowed.&quot;</highlight><highlight class="normal">,<sp/>dims.<ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1af840ec6a7dcfb6d5cbbaf407be513c02" kindref="member">nof_prb</ref>,<sp/><ref refid="namespacesrsgnb_1a093e25254bb1f64f3af8faafd11a9120" kindref="member">MAX_RB</ref>);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>srsgnb_assert(dims.<ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1ab3079cecb1405c2af69bdb4edf30080e" kindref="member">nof_symbols</ref><sp/>&lt;=<sp/><ref refid="namespacesrsgnb_1a368f9716311e0bea205a7b8a9b255c20" kindref="member">MAX_NSYMB_PER_SLOT</ref>,</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Requested<sp/>{}<sp/>OFDM<sp/>symbols,<sp/>but<sp/>at<sp/>most<sp/>{}<sp/>are<sp/>allowed.&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dims.<ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1ab3079cecb1405c2af69bdb4edf30080e" kindref="member">nof_symbols</ref>,</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="namespacesrsgnb_1a368f9716311e0bea205a7b8a9b255c20" kindref="member">MAX_NSYMB_PER_SLOT</ref>);</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>srsgnb_assert(dims.<ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1ae05edf83f588c68880ec8ab1cedd98b8" kindref="member">nof_rx_ports</ref><sp/>&lt;=<sp/><ref refid="classsrsgnb_1_1channel__estimate_1aa41afa984faa8c0319e6b23b1b0046de" kindref="member">MAX_RX_PORTS</ref>,</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Requested<sp/>{}<sp/>receive<sp/>ports,<sp/>but<sp/>at<sp/>most<sp/>{}<sp/>are<sp/>supported.&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dims.<ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1ae05edf83f588c68880ec8ab1cedd98b8" kindref="member">nof_rx_ports</ref>,</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="classsrsgnb_1_1channel__estimate_1aa41afa984faa8c0319e6b23b1b0046de" kindref="member">MAX_RX_PORTS</ref>));</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>srsgnb_assert(dims.<ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1aa2da58a4223bd9198aa543da309c443b" kindref="member">nof_tx_layers</ref><sp/>&lt;=<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a0d9dcae83581f3161e2cc11e4687cfbe" kindref="member">MAX_TX_LAYERS</ref>,</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Requested<sp/>{}<sp/>transmission<sp/>layers,<sp/>but<sp/>at<sp/>most<sp/>{}<sp/>are<sp/>supported.&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dims.<ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1aa2da58a4223bd9198aa543da309c443b" kindref="member">nof_tx_layers</ref>,</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static_cast&lt;</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="keyword">&gt;</highlight><highlight class="normal">(<ref refid="classsrsgnb_1_1channel__estimate_1a0d9dcae83581f3161e2cc11e4687cfbe" kindref="member">MAX_TX_LAYERS</ref>));</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>slot_len_re<sp/>=<sp/>dims.<ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1af840ec6a7dcfb6d5cbbaf407be513c02" kindref="member">nof_prb</ref><sp/>*<sp/><ref refid="namespacesrsgnb_1a1691e371d39f897676e1185dce645bb1" kindref="member">NRE</ref><sp/>*<sp/>dims.<ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1ab3079cecb1405c2af69bdb4edf30080e" kindref="member">nof_symbols</ref>;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>nof_paths<sp/><sp/><sp/>=<sp/>dims.<ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1aa2da58a4223bd9198aa543da309c443b" kindref="member">nof_tx_layers</ref><sp/>*<sp/>dims.<ref refid="structsrsgnb_1_1channel__estimate_1_1channel__estimate__dimensions_1ae05edf83f588c68880ec8ab1cedd98b8" kindref="member">nof_rx_ports</ref>;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Reserve<sp/>memory<sp/>for<sp/>channel<sp/>estimates<sp/>and<sp/>initialize<sp/>with<sp/>1.0.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a79fd34a89469ad7df1f047318dea1f5f" kindref="member">ce</ref>.reserve(<ref refid="classsrsgnb_1_1channel__estimate_1a62397b1a8e118e495fd249c968f97d54" kindref="member">MAX_BUFFER_SIZE</ref>);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a79fd34a89469ad7df1f047318dea1f5f" kindref="member">ce</ref>.resize(slot_len_re<sp/>*<sp/>nof_paths,<sp/>1.0F);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Reserve<sp/>memory<sp/>for<sp/>the<sp/>rest<sp/>of<sp/>channel<sp/>statistics.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a1326dec62f8dd787c592dad13dc56648" kindref="member">noise_variance</ref>.reserve(<ref refid="classsrsgnb_1_1channel__estimate_1a2c2acd62c2d4495ce58ac4c754cdbed6" kindref="member">MAX_TX_RX_PATHS</ref>);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a1326dec62f8dd787c592dad13dc56648" kindref="member">noise_variance</ref>.resize(nof_paths);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a0e773b0984b04bc68882c746853f3cfb" kindref="member">epre</ref>.reserve(<ref refid="classsrsgnb_1_1channel__estimate_1a2c2acd62c2d4495ce58ac4c754cdbed6" kindref="member">MAX_TX_RX_PATHS</ref>);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a0e773b0984b04bc68882c746853f3cfb" kindref="member">epre</ref>.resize(nof_paths);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a02db2be1f8407c52a10b2e042dbd42de" kindref="member">rsrp</ref>.reserve(<ref refid="classsrsgnb_1_1channel__estimate_1a2c2acd62c2d4495ce58ac4c754cdbed6" kindref="member">MAX_TX_RX_PATHS</ref>);</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a02db2be1f8407c52a10b2e042dbd42de" kindref="member">rsrp</ref>.resize(nof_paths);</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a831cad4d7e271a333870aad32d88b50b" kindref="member">snr</ref>.reserve(<ref refid="classsrsgnb_1_1channel__estimate_1a2c2acd62c2d4495ce58ac4c754cdbed6" kindref="member">MAX_TX_RX_PATHS</ref>);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a831cad4d7e271a333870aad32d88b50b" kindref="member">snr</ref>.resize(nof_paths);</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1acf17992a498d8ad3e9e53810188faf8f" kindref="member">~channel_estimate</ref>()<sp/>=<sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="98" refid="classsrsgnb_1_1channel__estimate_1af712fed860f3f816b47d79c2cc78a083" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1af712fed860f3f816b47d79c2cc78a083" kindref="member">get_noise_variance</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="99"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a1326dec62f8dd787c592dad13dc56648" kindref="member">noise_variance</ref>[<ref refid="classsrsgnb_1_1channel__estimate_1a1256842c9444729eabe78521a43e3634" kindref="member">path_to_index</ref>(rx_port,<sp/>tx_layer)];</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="104" refid="classsrsgnb_1_1channel__estimate_1a927ce0f1b9136a01a080cb35781391b3" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a927ce0f1b9136a01a080cb35781391b3" kindref="member">get_noise_variance_dB</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="105"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacesrsgnb_1aab05139ce9d3b553e76c65aa02598fd6" kindref="member">convert_power_to_dB</ref>(<ref refid="classsrsgnb_1_1channel__estimate_1af712fed860f3f816b47d79c2cc78a083" kindref="member">get_noise_variance</ref>(rx_port,<sp/>tx_layer));</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="110" refid="classsrsgnb_1_1channel__estimate_1a97afe9edfe15a01201a84dbf29d65ad7" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a97afe9edfe15a01201a84dbf29d65ad7" kindref="member">get_rsrp</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a02db2be1f8407c52a10b2e042dbd42de" kindref="member">rsrp</ref>[<ref refid="classsrsgnb_1_1channel__estimate_1a1256842c9444729eabe78521a43e3634" kindref="member">path_to_index</ref>(rx_port,<sp/>tx_layer)];<sp/>}</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="113" refid="classsrsgnb_1_1channel__estimate_1a5caa692819b484b8fb753e5195de66af" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a5caa692819b484b8fb753e5195de66af" kindref="member">get_rsrp_dB</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="114"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacesrsgnb_1aab05139ce9d3b553e76c65aa02598fd6" kindref="member">convert_power_to_dB</ref>(<ref refid="classsrsgnb_1_1channel__estimate_1a97afe9edfe15a01201a84dbf29d65ad7" kindref="member">get_rsrp</ref>(rx_port,<sp/>tx_layer));</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="119" refid="classsrsgnb_1_1channel__estimate_1ab618b8c53e9c35fef2801fe185c912d5" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1ab618b8c53e9c35fef2801fe185c912d5" kindref="member">get_epre</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a0e773b0984b04bc68882c746853f3cfb" kindref="member">epre</ref>[<ref refid="classsrsgnb_1_1channel__estimate_1a1256842c9444729eabe78521a43e3634" kindref="member">path_to_index</ref>(rx_port,<sp/>tx_layer)];<sp/>}</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="122" refid="classsrsgnb_1_1channel__estimate_1aaad1fe301d33dda0330ab1d2306c569a" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1aaad1fe301d33dda0330ab1d2306c569a" kindref="member">get_epre_dB</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="123"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacesrsgnb_1aab05139ce9d3b553e76c65aa02598fd6" kindref="member">convert_power_to_dB</ref>(<ref refid="classsrsgnb_1_1channel__estimate_1ab618b8c53e9c35fef2801fe185c912d5" kindref="member">get_epre</ref>(rx_port,<sp/>tx_layer));</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="128" refid="classsrsgnb_1_1channel__estimate_1a3bda0131c97559989dd3406259523218" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a3bda0131c97559989dd3406259523218" kindref="member">get_snr</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a831cad4d7e271a333870aad32d88b50b" kindref="member">snr</ref>[<ref refid="classsrsgnb_1_1channel__estimate_1a1256842c9444729eabe78521a43e3634" kindref="member">path_to_index</ref>(rx_port,<sp/>tx_layer)];<sp/>}</highlight></codeline>
<codeline lineno="129"><highlight class="normal"></highlight></codeline>
<codeline lineno="131" refid="classsrsgnb_1_1channel__estimate_1a192e84c90465fd9aa955e790c6e2abd9" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a192e84c90465fd9aa955e790c6e2abd9" kindref="member">get_snr_dB</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="132"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacesrsgnb_1aab05139ce9d3b553e76c65aa02598fd6" kindref="member">convert_power_to_dB</ref>(<ref refid="classsrsgnb_1_1channel__estimate_1a3bda0131c97559989dd3406259523218" kindref="member">get_snr</ref>(rx_port,<sp/>tx_layer));</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="139" refid="classsrsgnb_1_1channel__estimate_1a75d18f903b1a1e50fbf98c243ea2fd6b" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classsrsgnb_1_1span" kindref="compound">span&lt;cf_t&gt;</ref><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a75d18f903b1a1e50fbf98c243ea2fd6b" kindref="member">get_path_ch_estimate</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>view_size<sp/><sp/>=<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a6dfc8441926686349f0cc479c5c88392" kindref="member">nof_subcarriers</ref><sp/>*<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a61b6d72443162c60b9bb70215283944e" kindref="member">nof_symbols</ref>;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>view_start<sp/>=<sp/>view_size<sp/>*<sp/>(rx_port<sp/>+<sp/><ref refid="classsrsgnb_1_1channel__estimate_1adbcbada453f6f6ad2fdb624e53ab46de" kindref="member">nof_rx_ports</ref><sp/>*<sp/>tx_layer);</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1span" kindref="compound">span&lt;cf_t&gt;</ref>(<ref refid="classsrsgnb_1_1channel__estimate_1a79fd34a89469ad7df1f047318dea1f5f" kindref="member">ce</ref>).<ref refid="classsrsgnb_1_1span_1a442489925fefe9d07eb0c62aff93867e" kindref="member">subspan</ref>(view_start,<sp/>view_size);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="149" refid="classsrsgnb_1_1channel__estimate_1ae4c36805e0a31bfc7e3d81ddeda0f834" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classsrsgnb_1_1span" kindref="compound">span&lt;const cf_t&gt;</ref><sp/><ref refid="classsrsgnb_1_1channel__estimate_1ae4c36805e0a31bfc7e3d81ddeda0f834" kindref="member">get_path_ch_estimate</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="150"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>view_size<sp/><sp/>=<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a6dfc8441926686349f0cc479c5c88392" kindref="member">nof_subcarriers</ref><sp/>*<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a61b6d72443162c60b9bb70215283944e" kindref="member">nof_symbols</ref>;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>view_start<sp/>=<sp/>view_size<sp/>*<sp/>(rx_port<sp/>+<sp/><ref refid="classsrsgnb_1_1channel__estimate_1adbcbada453f6f6ad2fdb624e53ab46de" kindref="member">nof_rx_ports</ref><sp/>*<sp/>tx_layer);</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1span" kindref="compound">span&lt;const cf_t&gt;</ref>(<ref refid="classsrsgnb_1_1channel__estimate_1a79fd34a89469ad7df1f047318dea1f5f" kindref="member">ce</ref>).<ref refid="classsrsgnb_1_1span_1a442489925fefe9d07eb0c62aff93867e" kindref="member">subspan</ref>(view_start,<sp/>view_size);</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="156"></codeline>
<codeline lineno="160" refid="classsrsgnb_1_1channel__estimate_1ac18e8bda2c6b59868d2cd50c1ed0cd5a" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1ac18e8bda2c6b59868d2cd50c1ed0cd5a" kindref="member">set_noise_variance</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>var_val,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a1326dec62f8dd787c592dad13dc56648" kindref="member">noise_variance</ref>[<ref refid="classsrsgnb_1_1channel__estimate_1a1256842c9444729eabe78521a43e3634" kindref="member">path_to_index</ref>(rx_port,<sp/>tx_layer)]<sp/>=<sp/>var_val;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="166" refid="classsrsgnb_1_1channel__estimate_1a5b0492275a03bf8d146252d4b55c2986" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a5b0492275a03bf8d146252d4b55c2986" kindref="member">set_rsrp</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>rsrp_val,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a02db2be1f8407c52a10b2e042dbd42de" kindref="member">rsrp</ref>[<ref refid="classsrsgnb_1_1channel__estimate_1a1256842c9444729eabe78521a43e3634" kindref="member">path_to_index</ref>(rx_port,<sp/>tx_layer)]<sp/>=<sp/>rsrp_val;</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="172" refid="classsrsgnb_1_1channel__estimate_1ad92753b677513fe1b1dbc14818585710" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1ad92753b677513fe1b1dbc14818585710" kindref="member">set_epre</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>epre_val,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a0e773b0984b04bc68882c746853f3cfb" kindref="member">epre</ref>[<ref refid="classsrsgnb_1_1channel__estimate_1a1256842c9444729eabe78521a43e3634" kindref="member">path_to_index</ref>(rx_port,<sp/>tx_layer)]<sp/>=<sp/>epre_val;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="178" refid="classsrsgnb_1_1channel__estimate_1ad1a027fdfd1f3f54ac76c298a794630d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1ad1a027fdfd1f3f54ac76c298a794630d" kindref="member">set_snr</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>snr_val,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a831cad4d7e271a333870aad32d88b50b" kindref="member">snr</ref>[<ref refid="classsrsgnb_1_1channel__estimate_1a1256842c9444729eabe78521a43e3634" kindref="member">path_to_index</ref>(rx_port,<sp/>tx_layer)]<sp/>=<sp/>snr_val;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="184" refid="classsrsgnb_1_1channel__estimate_1a15c492743c44ee57c4d8749e88a2b236" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a15c492743c44ee57c4d8749e88a2b236" kindref="member">set_ch_estimate</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>ce_val,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>subcarrier,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>symbol,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port<sp/>=<sp/>0,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>index<sp/>=<sp/><ref refid="classsrsgnb_1_1channel__estimate_1acf593e94af4b4bced7c838d1a18e4156" kindref="member">coords_to_index</ref>(subcarrier,<sp/>symbol,<sp/>rx_port,<sp/>tx_layer);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a79fd34a89469ad7df1f047318dea1f5f" kindref="member">ce</ref>[index]<sp/><sp/><sp/><sp/><sp/><sp/>=<sp/>ce_val;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>resize(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>channel_estimate_dimensions&amp;<sp/>dims)</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a6dfc8441926686349f0cc479c5c88392" kindref="member">nof_subcarriers</ref><sp/>=<sp/>dims.nof_prb<sp/>*<sp/><ref refid="namespacesrsgnb_1a1691e371d39f897676e1185dce645bb1" kindref="member">NRE</ref>;</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a61b6d72443162c60b9bb70215283944e" kindref="member">nof_symbols</ref><sp/><sp/><sp/><sp/><sp/>=<sp/>dims.nof_symbols;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1adbcbada453f6f6ad2fdb624e53ab46de" kindref="member">nof_rx_ports</ref><sp/><sp/><sp/><sp/>=<sp/>dims.nof_rx_ports;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>nof_paths<sp/>=<sp/>dims.nof_rx_ports<sp/>*<sp/>dims.nof_tx_layers;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>srsgnb_assert(nof_paths<sp/>&lt;=<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a2c2acd62c2d4495ce58ac4c754cdbed6" kindref="member">MAX_TX_RX_PATHS</ref>,</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Total<sp/>requested<sp/>paths<sp/>({})<sp/>exceed<sp/>maximum<sp/>available<sp/>({}).&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nof_paths,</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a2c2acd62c2d4495ce58ac4c754cdbed6" kindref="member">MAX_TX_RX_PATHS</ref>);</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a1326dec62f8dd787c592dad13dc56648" kindref="member">noise_variance</ref>.resize(nof_paths);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a0e773b0984b04bc68882c746853f3cfb" kindref="member">epre</ref>.resize(nof_paths);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a02db2be1f8407c52a10b2e042dbd42de" kindref="member">rsrp</ref>.resize(nof_paths);</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a831cad4d7e271a333870aad32d88b50b" kindref="member">snr</ref>.resize(nof_paths);</highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>nof_res<sp/>=<sp/>nof_paths<sp/>*<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a6dfc8441926686349f0cc479c5c88392" kindref="member">nof_subcarriers</ref><sp/>*<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a61b6d72443162c60b9bb70215283944e" kindref="member">nof_symbols</ref>;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>srsgnb_assert(nof_res<sp/>&lt;=<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a62397b1a8e118e495fd249c968f97d54" kindref="member">MAX_BUFFER_SIZE</ref>,</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Total<sp/>requested<sp/>REs<sp/>({})<sp/>exceed<sp/>maximum<sp/>available<sp/>({}).&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nof_res,</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a62397b1a8e118e495fd249c968f97d54" kindref="member">MAX_BUFFER_SIZE</ref>);</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a79fd34a89469ad7df1f047318dea1f5f" kindref="member">ce</ref>.resize(nof_res);</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="217" refid="classsrsgnb_1_1channel__estimate_1a6dfc8441926686349f0cc479c5c88392" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a6dfc8441926686349f0cc479c5c88392" kindref="member">nof_subcarriers</ref>;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="220" refid="classsrsgnb_1_1channel__estimate_1a61b6d72443162c60b9bb70215283944e" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a61b6d72443162c60b9bb70215283944e" kindref="member">nof_symbols</ref>;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="223" refid="classsrsgnb_1_1channel__estimate_1adbcbada453f6f6ad2fdb624e53ab46de" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1adbcbada453f6f6ad2fdb624e53ab46de" kindref="member">nof_rx_ports</ref>;</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="231" refid="classsrsgnb_1_1channel__estimate_1a1326dec62f8dd787c592dad13dc56648" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;float&gt;<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a1326dec62f8dd787c592dad13dc56648" kindref="member">noise_variance</ref>;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="234" refid="classsrsgnb_1_1channel__estimate_1a02db2be1f8407c52a10b2e042dbd42de" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;float&gt;<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a02db2be1f8407c52a10b2e042dbd42de" kindref="member">rsrp</ref>;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="237" refid="classsrsgnb_1_1channel__estimate_1a0e773b0984b04bc68882c746853f3cfb" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;float&gt;<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a0e773b0984b04bc68882c746853f3cfb" kindref="member">epre</ref>;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="240" refid="classsrsgnb_1_1channel__estimate_1a831cad4d7e271a333870aad32d88b50b" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;float&gt;<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a831cad4d7e271a333870aad32d88b50b" kindref="member">snr</ref>;</highlight></codeline>
<codeline lineno="242"></codeline>
<codeline lineno="248" refid="classsrsgnb_1_1channel__estimate_1a79fd34a89469ad7df1f047318dea1f5f" refkind="member"><highlight class="normal"><sp/><sp/>std::vector&lt;cf_t&gt;<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a79fd34a89469ad7df1f047318dea1f5f" kindref="member">ce</ref>;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="251" refid="classsrsgnb_1_1channel__estimate_1a1256842c9444729eabe78521a43e3634" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1a1256842c9444729eabe78521a43e3634" kindref="member">path_to_index</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rx_port<sp/>+<sp/><ref refid="classsrsgnb_1_1channel__estimate_1adbcbada453f6f6ad2fdb624e53ab46de" kindref="member">nof_rx_ports</ref><sp/>*<sp/>tx_layer;<sp/>}</highlight></codeline>
<codeline lineno="252"><highlight class="normal"></highlight></codeline>
<codeline lineno="254" refid="classsrsgnb_1_1channel__estimate_1acf593e94af4b4bced7c838d1a18e4156" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1channel__estimate_1acf593e94af4b4bced7c838d1a18e4156" kindref="member">coords_to_index</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>subcarrier,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>symbol,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>rx_port<sp/>=<sp/>0,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>tx_layer<sp/>=<sp/>0)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="255"><highlight class="keyword"><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>subcarrier<sp/>+<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a6dfc8441926686349f0cc479c5c88392" kindref="member">nof_subcarriers</ref><sp/>*<sp/>(symbol<sp/>+<sp/><ref refid="classsrsgnb_1_1channel__estimate_1a61b6d72443162c60b9bb70215283944e" kindref="member">nof_symbols</ref><sp/>*<sp/>(rx_port<sp/>+<sp/><ref refid="classsrsgnb_1_1channel__estimate_1adbcbada453f6f6ad2fdb624e53ab46de" kindref="member">nof_rx_ports</ref><sp/>*<sp/>tx_layer));</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="258"><highlight class="normal">};</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="265" refid="namespacesrsgnb_1af40753bae96e83217c5c164004701efe" refkind="member"><highlight class="keyword">static</highlight><highlight class="normal"><sp/>constexpr<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/><ref refid="namespacesrsgnb_1af40753bae96e83217c5c164004701efe" kindref="member">MAX_NOF_LAYER_DMRS_SYMBOLS</ref><sp/>=<sp/><ref refid="namespacesrsgnb_1a093e25254bb1f64f3af8faafd11a9120" kindref="member">MAX_RB</ref><sp/>*<sp/><ref refid="namespacesrsgnb_1a1691e371d39f897676e1185dce645bb1" kindref="member">NRE</ref><sp/>/<sp/>2<sp/>*<sp/>4<sp/>*<sp/>2;</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="268" refid="namespacesrsgnb_1ad0dae40a23573409ca7d16a25349dc49" refkind="member"><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="classsrsgnb_1_1static__vector" kindref="compound">dmrs_symbol_list</ref><sp/>=<sp/><ref refid="classsrsgnb_1_1static__vector" kindref="compound">static_vector&lt;cf_t, MAX_NOF_LAYER_DMRS_SYMBOLS&gt;</ref>;</highlight></codeline>
<codeline lineno="269"><highlight class="normal"></highlight></codeline>
<codeline lineno="276" refid="structsrsgnb_1_1dmrs__mask" refkind="compound"><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="structsrsgnb_1_1dmrs__mask" kindref="compound">dmrs_mask</ref><sp/>{</highlight></codeline>
<codeline lineno="278" refid="structsrsgnb_1_1dmrs__mask_1a9093b9a8e03df7140b46a83943e39826" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classsrsgnb_1_1static__vector" kindref="compound">static_vector&lt;bool, MAX_NSYMB_PER_SLOT&gt;</ref><sp/><ref refid="structsrsgnb_1_1dmrs__mask_1a9093b9a8e03df7140b46a83943e39826" kindref="member">symbols</ref>;</highlight></codeline>
<codeline lineno="280" refid="structsrsgnb_1_1dmrs__mask_1accb4efc01c80be1a54a300f0a4288ead" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classsrsgnb_1_1bounded__bitset" kindref="compound">bounded_bitset</ref>&lt;<ref refid="namespacesrsgnb_1a093e25254bb1f64f3af8faafd11a9120" kindref="member">MAX_RB</ref><sp/>*<sp/><ref refid="namespacesrsgnb_1a1691e371d39f897676e1185dce645bb1" kindref="member">NRE</ref><sp/>/<sp/>2&gt;<sp/><ref refid="structsrsgnb_1_1dmrs__mask_1accb4efc01c80be1a54a300f0a4288ead" kindref="member">res_elements</ref>;</highlight></codeline>
<codeline lineno="281"><highlight class="normal">};</highlight></codeline>
<codeline lineno="282"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>srsgnb</highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="include/srsgnb/phy/upper/channel_estimation.h"/>
  </compounddef>
</doxygen>
